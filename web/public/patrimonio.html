<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patrimônio</title>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <link rel="stylesheet" href="../src/assets/semantic/semantic.min.css">
  <script src="../src/assets/semantic/semantic.min.js"></script>
  <link rel="stylesheet" href="../src/assets/home.css">
  <link rel="stylesheet" href="../src/assets/patrimonio.css">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="../src/assets/main.css">
  <style>
    .open {
      display: block !important;
    }

    select.placeholder {
      color: rgba(0, 0, 0, 0.3);
    }


    .ui.container.add-form {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      z-index: 999;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      border-radius: 5px;
    }

    .ui.container.add-form h2.ui {
      font-size: 24px;
      margin-bottom: 20px;
    }

    .ui.container.add-form input[type="text"],
    .ui.container.add-form select {
      width: 100%;
      margin-bottom: 20px;
    }

    .ui.container.add-form .ui.submit.button {
      margin-top: 20px;
    }

    .dimmer {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 999;
    }

    .popup {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      border-radius: 5px;
      z-index: 1000;
    }

    .popup h2 {
      font-size: 24px;
      margin-bottom: 20px;
    }

    .popup form input[type="text"],
    .popup form select {
      width: 100%;
      margin-bottom: 20px;
    }

    .popup form button[type="submit"] {
      margin-top: 20px;
    }
  </style>

</head>

<body>
  <!-- Navbar -->
  <div class="sidebar navbar">
    <div class="logo-details">
      <i class="desktop icon"></i>
      <div class="logo_name">Parque Computacional</div>
      <i class='bx bx-menu' id="btn"></i>
    </div>
    <ul class="nav-list">
      <li>
        <a href="#">
          <i class="home icon"></i>
          <span class="links_name">Home</span>
        </a>
        <span class="tooltip">Home</span>
      </li>
      <li>
        <a href="#">
          <i class="keyboard outline icon"></i>
          <span class="links_name">Patrimônio</span>
        </a>
        <span class="tooltip">Patrimônio</span>
      </li>
      <li>
        <a href="#">
          <i class="server icon"></i>
          <span class="links_name">Bancada</span>
        </a>
        <span class="tooltip">Bancada</span>
      </li>
      <li>
        <a href="#">
          <i class="wrench icon"></i>
          <span class="links_name">HelpDesk</span>
        </a>
        <span class="tooltip">HelpDesk</span>
      </li>
      <li>
        <a href="#">
          <i class="user outline icon"></i>
          <span class="links_name">Usuário</span>
        </a>
        <span class="tooltip">Usuário</span>
      </li>
      <li>
        <a href="#">
          <i class='bx bx-cog'></i>
          <span class="links_name">Setting</span>
        </a>
        <span class="tooltip">Setting</span>
      </li>
    </ul>
  </div>

  <!-- Tabela -->
  <section class="home-section">
    <div class="ui container table-p">
      <table class="ui compact celled definition table">
        <thead>
          <tr>
            <td class="collapsing">
              <div class="ui fitted checkbox">
                <input type="checkbox" id="select-all">
                <label></label>
              </div>
            </td>
            <th>Bancada</th>
            <th>Marca</th>
            <th>Modelo</th>
            <th>Tipo</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="collapsing">
              <div class="ui fitted checkbox">
                <input type="checkbox" class="select-checkbox"> <label></label>
              </div>
            </td>
            <td>5</td>
            <td>HP</td>
            <td>HP-750</td>
            <td>Impressora</td>
            <td>Ativo</td>
          </tr>
          <tr>
            <td class="collapsing">
              <div class="ui fitted checkbox">
                <input type="checkbox" class="select-checkbox"> <label></label>
              </div>
            </td>
            <td>8</td>
            <td>Logitech</td>
            <td>G-213</td>
            <td>Teclado</td>
            <td>Ativo</td>
          <tr>
            <td class="collapsing">
              <div class="ui fitted checkbox">
                <input type="checkbox" class="select-checkbox"> <label></label>
              </div>
            </td>
            <td>12</td>
            <td>Multilaser</td>
            <td>MT-687</td>
            <td>Mouse</td>
            <td>Inativo</td>
          </tr>
          <tr>
            <td class="collapsing">
              <div class="ui fitted checkbox">
                <input type="checkbox" class="select-checkbox"> <label></label>
              </div>
            </td>
            <td>2</td>
            <td>Samsung</td>
            <td>Book X50</td>
            <td>Notebook</td>
            <td>Ativo</td>
          </tr>
        </tbody>
        <tfoot class="full-width">
          <tr>
            <th></th>
            <th colspan="5">
              <div class="ui right floated small primary labeled icon button" id="add-patrimonio">
                <i class="keyboard outline icon"></i> Adicionar Patrimônio
              </div>
              <div class="ui small button">
                Excluir
              </div>
              <div class="ui small button">
                Alterar
              </div>
              <div class="ui small button">
                Ativar
              </div>
              <div class="ui small button">
                Desativar
              </div>
            </th>
          </tr>
        </tfoot>
      </table>
    </div>
  </section>
  <!-- Pop-up de cadastro de patrimônio -->
  <div class="dimmer">
    <div class="ui container add-form">
      <h2 class="ui dividing header">Adicionar Patrimônio</h2>
      <form class="ui form">
        <div class="field">
          <label>Bancada</label>
          <select name="tipo">
            <option class="placeholder" disabled selected class="placeholder" disabled selected>Selecione a bancada</option>
            <option value="b1">Nenhuma (ID: 0)</option>
            <option value="b2">ID: 22 | Bancada de Informática</option>
            <option value="b3">ID: 23 | Bancada de Almoxarifado</option>
            <option value="b4">ID: 24 | Bancada do RU</option>
          </select>
        </div>
        <div class="field">
          <label>Marca</label>
          <input type="text" name="marca" placeholder="Marca">
        </div>
        <div class="field">
          <label>Modelo</label>
          <input type="text" name="modelo" placeholder="Modelo">
        </div>
        <div class="field">
          <label>Tipo</label>
          <select name="tipo">
            <option class="placeholder" disabled selected>Selecione o tipo</option>
            <option value="desktop">Desktop</option>
            <option value="notebook">Notebook</option>
            <option value="impressora">Impressora</option>
            <option value="monitor">Monitor</option>
          </select>
        </div>
        <div class="field">
          <label>Status</label>
          <select name="status">
            <option class="placeholder" disabled selected>Selecione o status</option>
            <option value="ativo">Ativo</option>
            <option value="inativo">Inativo</option>
            <option value="manutencao">Em manutenção</option>
          </select>
        </div>
        <button class="ui submit button" type="submit">Adicionar</button>
        <button class="ui button cancel-button" id="cancel-button">Cancelar</button>
      </form>
    </div>
  </div>
</body>

<script type="text/javascript">
  // Selecione todos os checkboxes quando o checkbox geral é selecionado
  document.getElementById("select-all").addEventListener("click", function () {
    var checkboxes = document.getElementsByClassName("select-checkbox");
    for (var i = 0; i < checkboxes.length; i++) {
      checkboxes[i].checked = this.checked;
    }
  });

  // Deselecione o checkbox geral se algum checkbox individual for desmarcado
  var checkboxes = document.getElementsByClassName("select-checkbox");
  for (var i = 0; i < checkboxes.length; i++) {
    checkboxes[i].addEventListener("click", function () {
      if (!this.checked) {
        document.getElementById("select-all").checked = false;
      }
    });
  }

  // Exibe o pop-pup ao clicar no botão "Adicionar Patrimônio"
  $(document).ready(function () {
    $('#add-patrimonio').on('click', function () {
      $('.add-form').addClass('open');
    });
  });

  // Faz o dimmer aparecer ao clicar no botão "Adicionar Patrimônio" e desaparecer ao clicar fora do pop-up.
  $(document).ready(function () {
    $("#add-patrimonio").click(function (e) {
      e.preventDefault();
      $(".dimmer").fadeIn();
    });

    $(".dimmer").click(function (e) {
      if ($(e.target).hasClass("dimmer")) {
        $(this).fadeOut();
      }
    });
  });

  // Oculta o pop-up e o dimmer ao clicar no botão "Cancelar"
  $(document).ready(function () {
    $('.cancel-button').click(function () {
      $('.popup').hide();
      $('.dimmer').hide();
    });

    // Oculta o pop-up e o dimmer ao pressionar a tecla "Esc"
    $(document).keydown(function (event) {
      if (event.keyCode == 27) {
        $('.popup').hide();
        $('.dimmer').hide();
      }
    });
  });

  // Placeholder
  const tipoSelect = document.querySelector('select[name="tipo"]');
  tipoSelect.addEventListener('change', () => {
    if (tipoSelect.value === '') {
      tipoSelect.classList.add('placeholder');
    } else {
      tipoSelect.classList.remove('placeholder');
    }
  });


</script>
<script src="../src/assets/home.js"></script>

</html>